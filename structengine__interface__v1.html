<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>memcachedpublicAPI: engine_interface_v1 Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>engine_interface_v1 Struct Reference<br/>
<small>
[<a class="el" href="group___engine.html">Storage Engine API</a>]</small>
</h1><!-- doxytag: class="engine_interface_v1" -->
<p>Definition of the first version of the engine interface.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="engine_8h_source.html">engine.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for engine_interface_v1:</div>
<div class="dynsection">
<div class="center"><img src="structengine__interface__v1__coll__graph.png" border="0" usemap="#engine__interface__v1_coll__map" alt="Collaboration graph"/></div>
<map name="engine__interface__v1_coll__map" id="engine__interface__v1_coll__map">
<area shape="rect" id="node2" href="structengine__interface.html" title="Generic opaque data structure for engines." alt="" coords="16,6,139,34"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="structengine__interface__v1-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structengine__interface.html">engine_interface</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#acb4a9ddd1b457a5392de8d61ae381ca8">interface</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Engine info.  <a href="#acb4a9ddd1b457a5392de8d61ae381ca8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#aecfffac973707fca4dc4c5eda52841c4">get_info</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a description of this engine.  <a href="#aecfffac973707fca4dc4c5eda52841c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a190f91c616478c75d306d0c16f962554">initialize</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const char *config_str)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize an engine instance.  <a href="#a190f91c616478c75d306d0c16f962554"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a184949b7c9f8d1ddbfa9c14fca221cd6">destroy</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tear down this engine.  <a href="#a184949b7c9f8d1ddbfa9c14fca221cd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a9e70dc7cafccddef523397e1c6abb9cf">allocate</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> **<a class="el" href="structitem.html">item</a>, const void *key, const size_t nkey, const size_t nbytes, const int flags, const <a class="el" href="group___engine.html#gae315dc9bbd0d1cb8fbdacca8e31fd20e">rel_time_t</a> exptime)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>.  <a href="#a9e70dc7cafccddef523397e1c6abb9cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a7645d31fed72080c3638d193abac6113">remove</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> *<a class="el" href="structitem.html">item</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>.  <a href="#a7645d31fed72080c3638d193abac6113"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#abd6dfa858b32933e800a121f63efe4b5">release</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, <a class="el" href="structitem.html">item</a> *<a class="el" href="structitem.html">item</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicate that a caller who received an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> no longer needs it.  <a href="#abd6dfa858b32933e800a121f63efe4b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a1ba52f9661bc0a96f35b4e673b2553aa">get</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> **<a class="el" href="structitem.html">item</a>, const void *key, const int nkey)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>.  <a href="#a1ba52f9661bc0a96f35b4e673b2553aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#ab546f254d738e5081d8c123b57590992">store</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> *<a class="el" href="structitem.html">item</a>, uint64_t *cas, <a class="el" href="group___engine.html#ga319505a6161227851720785676bade01">ENGINE_STORE_OPERATION</a> operation)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>.  <a href="#ab546f254d738e5081d8c123b57590992"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#acb1e81d8e7f6ca8e52f9c118c96cf170">arithmetic</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, const void *key, const int nkey, const bool increment, const bool create, const uint64_t delta, const uint64_t initial, const <a class="el" href="group___engine.html#gae315dc9bbd0d1cb8fbdacca8e31fd20e">rel_time_t</a> exptime, uint64_t *cas, uint64_t *result)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform an increment or decrement operation on an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>.  <a href="#acb1e81d8e7f6ca8e52f9c118c96cf170"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a5f55f02a9cd954e40214068f1049bccd">flush</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, time_t when)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flush the cache.  <a href="#a5f55f02a9cd954e40214068f1049bccd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a2320667ba9a3bf499dc0e3593337077c">get_stats</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, const char *stat_key, int nkey, <a class="el" href="group___engine.html#gab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stat)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get statistics from the engine.  <a href="#a2320667ba9a3bf499dc0e3593337077c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#a89482f00c8538e80d48aca82ad641ade">reset_stats</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the stats.  <a href="#a89482f00c8538e80d48aca82ad641ade"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structengine__interface__v1.html#aafc5304bd65c238b138d7cc3750cf1d7">unknown_command</a> )(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="unionprotocol__binary__request__header.html">protocol_binary_request_header</a> *request, <a class="el" href="group___engine.html#ga4f952131b9f47d1ad9f4a28290c9c8b0">ADD_RESPONSE</a> response)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Any unknown command will be considered engine specific.  <a href="#aafc5304bd65c238b138d7cc3750cf1d7"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Definition of the first version of the engine interface. </p>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9e70dc7cafccddef523397e1c6abb9cf"></a><!-- doxytag: member="engine_interface_v1::allocate" ref="a9e70dc7cafccddef523397e1c6abb9cf" args=")(ENGINE_HANDLE *handle, const void *cookie, item **item, const void *key, const size_t nkey, const size_t nbytes, const int flags, const rel_time_t exptime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#a9e70dc7cafccddef523397e1c6abb9cf">engine_interface_v1::allocate</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> **<a class="el" href="structitem.html">item</a>, const void *key, const size_t nkey, const size_t nbytes, const int flags, const <a class="el" href="group___engine.html#gae315dc9bbd0d1cb8fbdacca8e31fd20e">rel_time_t</a> exptime)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output</em>&nbsp;</td><td>variable that will receive the <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>the item's key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nkey</em>&nbsp;</td><td>the length of the key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>the number of bytes that will make up the value of this <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>the item's flags </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exptime</em>&nbsp;</td><td>the maximum lifetime of this <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="acb1e81d8e7f6ca8e52f9c118c96cf170"></a><!-- doxytag: member="engine_interface_v1::arithmetic" ref="acb1e81d8e7f6ca8e52f9c118c96cf170" args=")(ENGINE_HANDLE *handle, const void *cookie, const void *key, const int nkey, const bool increment, const bool create, const uint64_t delta, const uint64_t initial, const rel_time_t exptime, uint64_t *cas, uint64_t *result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#acb1e81d8e7f6ca8e52f9c118c96cf170">engine_interface_v1::arithmetic</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, const void *key, const int nkey, const bool increment, const bool create, const uint64_t delta, const uint64_t initial, const <a class="el" href="group___engine.html#gae315dc9bbd0d1cb8fbdacca8e31fd20e">rel_time_t</a> exptime, uint64_t *cas, uint64_t *result)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform an increment or decrement operation on an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>the key to look up </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nkey</em>&nbsp;</td><td>the length of the key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>increment</em>&nbsp;</td><td>if true, increment the value, else decrement </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>create</em>&nbsp;</td><td>if true, create the <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> if it's missing </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delta</em>&nbsp;</td><td>the amount to increment or decrement. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial</em>&nbsp;</td><td>when creating, specifies the initial value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exptime</em>&nbsp;</td><td>when creating, specifies the expiration time </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cas</em>&nbsp;</td><td>output CAS value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>output arithmetic value</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="a184949b7c9f8d1ddbfa9c14fca221cd6"></a><!-- doxytag: member="engine_interface_v1::destroy" ref="a184949b7c9f8d1ddbfa9c14fca221cd6" args=")(ENGINE_HANDLE *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structengine__interface__v1.html#a184949b7c9f8d1ddbfa9c14fca221cd6">engine_interface_v1::destroy</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tear down this engine. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5f55f02a9cd954e40214068f1049bccd"></a><!-- doxytag: member="engine_interface_v1::flush" ref="a5f55f02a9cd954e40214068f1049bccd" args=")(ENGINE_HANDLE *handle, const void *cookie, time_t when)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#a5f55f02a9cd954e40214068f1049bccd">engine_interface_v1::flush</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, time_t when)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush the cache. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>when</em>&nbsp;</td><td>time at which the flush should take effect</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="a1ba52f9661bc0a96f35b4e673b2553aa"></a><!-- doxytag: member="engine_interface_v1::get" ref="a1ba52f9661bc0a96f35b4e673b2553aa" args=")(ENGINE_HANDLE *handle, const void *cookie, item **item, const void *key, const int nkey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#a1ba52f9661bc0a96f35b4e673b2553aa">engine_interface_v1::get</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> **<a class="el" href="structitem.html">item</a>, const void *key, const int nkey)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a></em>&nbsp;</td><td>output variable that will receive the located <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>the key to look up </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nkey</em>&nbsp;</td><td>the length of the key</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="aecfffac973707fca4dc4c5eda52841c4"></a><!-- doxytag: member="engine_interface_v1::get_info" ref="aecfffac973707fca4dc4c5eda52841c4" args=")(ENGINE_HANDLE *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* <a class="el" href="structengine__interface__v1.html#aecfffac973707fca4dc4c5eda52841c4">engine_interface_v1::get_info</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a description of this engine. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a stringz description of this engine </dd></dl>

</div>
</div>
<a class="anchor" id="a2320667ba9a3bf499dc0e3593337077c"></a><!-- doxytag: member="engine_interface_v1::get_stats" ref="a2320667ba9a3bf499dc0e3593337077c" args=")(ENGINE_HANDLE *handle, const void *cookie, const char *stat_key, int nkey, ADD_STAT add_stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#a2320667ba9a3bf499dc0e3593337077c">engine_interface_v1::get_stats</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, const char *stat_key, int nkey, <a class="el" href="group___engine.html#gab8d9bd9ba0b7b765633bf9b6cbd6aa30">ADD_STAT</a> add_stat)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get statistics from the engine. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stat_key</em>&nbsp;</td><td>optional argument to stats </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nkey</em>&nbsp;</td><td>the length of the stat_key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_stat</em>&nbsp;</td><td>callback to feed results to the output</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="a190f91c616478c75d306d0c16f962554"></a><!-- doxytag: member="engine_interface_v1::initialize" ref="a190f91c616478c75d306d0c16f962554" args=")(ENGINE_HANDLE *handle, const char *config_str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#a190f91c616478c75d306d0c16f962554">engine_interface_v1::initialize</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const char *config_str)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize an engine instance. </p>
<p>This is called *after* creation, but before the engine may be used.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>config_str</em>&nbsp;</td><td>configuration this engine needs to initialize itself. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acb4a9ddd1b457a5392de8d61ae381ca8"></a><!-- doxytag: member="engine_interface_v1::interface" ref="acb4a9ddd1b457a5392de8d61ae381ca8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structengine__interface.html">engine_interface</a> <a class="el" href="structengine__interface__v1.html#acb4a9ddd1b457a5392de8d61ae381ca8">engine_interface_v1::interface</a><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Engine info. </p>

</div>
</div>
<a class="anchor" id="abd6dfa858b32933e800a121f63efe4b5"></a><!-- doxytag: member="engine_interface_v1::release" ref="abd6dfa858b32933e800a121f63efe4b5" args=")(ENGINE_HANDLE *handle, item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structengine__interface__v1.html#abd6dfa858b32933e800a121f63efe4b5">engine_interface_v1::release</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, <a class="el" href="structitem.html">item</a> *<a class="el" href="structitem.html">item</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Indicate that a caller who received an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> no longer needs it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a></em>&nbsp;</td><td>the <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> to be released </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7645d31fed72080c3638d193abac6113"></a><!-- doxytag: member="engine_interface_v1::remove" ref="a7645d31fed72080c3638d193abac6113" args=")(ENGINE_HANDLE *handle, const void *cookie, item *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#a7645d31fed72080c3638d193abac6113">engine_interface_v1::remove</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> *<a class="el" href="structitem.html">item</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a></em>&nbsp;</td><td>the <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> to be removed</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="a89482f00c8538e80d48aca82ad641ade"></a><!-- doxytag: member="engine_interface_v1::reset_stats" ref="a89482f00c8538e80d48aca82ad641ade" args=")(ENGINE_HANDLE *handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structengine__interface__v1.html#a89482f00c8538e80d48aca82ad641ade">engine_interface_v1::reset_stats</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the stats. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab546f254d738e5081d8c123b57590992"></a><!-- doxytag: member="engine_interface_v1::store" ref="ab546f254d738e5081d8c123b57590992" args=")(ENGINE_HANDLE *handle, const void *cookie, item *item, uint64_t *cas, ENGINE_STORE_OPERATION operation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#ab546f254d738e5081d8c123b57590992">engine_interface_v1::store</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="structitem.html">item</a> *<a class="el" href="structitem.html">item</a>, uint64_t *cas, <a class="el" href="group___engine.html#ga319505a6161227851720785676bade01">ENGINE_STORE_OPERATION</a> operation)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store an <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a></em>&nbsp;</td><td>the <a class="el" href="structitem.html" title="Data common to any item stored in memcached.">item</a> to store </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cas</em>&nbsp;</td><td>the CAS value for conditional sets </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>operation</em>&nbsp;</td><td>the type of store operation to perform.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<a class="anchor" id="aafc5304bd65c238b138d7cc3750cf1d7"></a><!-- doxytag: member="engine_interface_v1::unknown_command" ref="aafc5304bd65c238b138d7cc3750cf1d7" args=")(ENGINE_HANDLE *handle, const void *cookie, protocol_binary_request_header *request, ADD_RESPONSE response)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___engine.html#ga2ae886fae640170aa47e2f5fad851942">ENGINE_ERROR_CODE</a>(* <a class="el" href="structengine__interface__v1.html#aafc5304bd65c238b138d7cc3750cf1d7">engine_interface_v1::unknown_command</a>)(<a class="el" href="structengine__interface.html">ENGINE_HANDLE</a> *handle, const void *cookie, <a class="el" href="unionprotocol__binary__request__header.html">protocol_binary_request_header</a> *request, <a class="el" href="group___engine.html#ga4f952131b9f47d1ad9f4a28290c9c8b0">ADD_RESPONSE</a> response)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Any unknown command will be considered engine specific. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>the engine handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cookie</em>&nbsp;</td><td>The cookie provided by the frontend </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>pointer to request header to be filled in </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>response</em>&nbsp;</td><td>function to transmit data</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENGINE_SUCCESS if all goes well </dd></dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/memcached/<a class="el" href="engine_8h_source.html">engine.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Fri Nov 20 00:21:43 2009 for memcachedpublicAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
